## 业务

### 基于倒排和向量实现多路召回
*成果*

*设计: 如何优化效率? 通过文档大小->构建速度来量化索引构建的效率*

*qps*

### 索引构建通过消息队列解耦
用法: 收到索引构建请求后，将文档信息发送到 rabbitmq，倒排索引和向量索引同时消费

消息处理的幂等性: 索引服务(倒排、向量)分别通过 redis 缓存 message_id 实现消费的幂等性
message_id 如何设计? uuid + 时间戳

可靠性保证：通过 rabbitmq 的消息确认机制，确保消息被成功处理后才从队列中移除，防止消息丢失。
考虑到文件上传本身就不是一个频繁的操作，不会导致消息堆积

### 热查询缓存 -- 分布式锁保证?
单用户: 最近的10条搜索记录
总搜索: 最高频的前30次搜索

### 查询的分布式锁?

